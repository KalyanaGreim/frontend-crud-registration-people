<div style="display: grid; padding: 10%">
  <div class="container-form">
    <div
      style="display: flex; justify-content: space-between; align-items: center"
    >
      <div class="title-page">
        {{ isEditable ? "Editar" : "Novo" }} Registro
      </div>
      <button [routerLink]="'/pessoas'" class="btn-voltar" title="Voltar">
        <svg
          width="40px"
          height="40px"
          viewBox="0 0 32 32"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"
          fill="#000000"
        >
          <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
          ></g>
          <g id="SVGRepo_iconCarrier">
            <desc>Created with Sketch Beta.</desc>
            <defs></defs>
            <g
              id="Page-1"
              stroke="none"
              stroke-width="1"
              fill="none"
              fill-rule="evenodd"
              sketch:type="MSPage"
            >
              <g
                id="Icon-Set-Filled"
                sketch:type="MSLayerGroup"
                transform="translate(-258.000000, -1089.000000)"
                fill="#7eae93"
              >
                <path
                  d="M281,1106 L270.414,1106 L274.536,1110.12 C274.926,1110.51 274.926,1111.15 274.536,1111.54 C274.145,1111.93 273.512,1111.93 273.121,1111.54 L267.464,1105.88 C267.225,1105.64 267.15,1105.31 267.205,1105 C267.15,1104.69 267.225,1104.36 267.464,1104.12 L273.121,1098.46 C273.512,1098.07 274.145,1098.07 274.536,1098.46 C274.926,1098.86 274.926,1099.49 274.536,1099.88 L270.414,1104 L281,1104 C281.552,1104 282,1104.45 282,1105 C282,1105.55 281.552,1106 281,1106 L281,1106 Z M274,1089 C265.164,1089 258,1096.16 258,1105 C258,1113.84 265.164,1121 274,1121 C282.836,1121 290,1113.84 290,1105 C290,1096.16 282.836,1089 274,1089 L274,1089 Z"
                  id="arrow-left-circle"
                  sketch:type="MSShapeGroup"
                ></path>
              </g>
            </g>
          </g>
        </svg>
      </button>
    </div>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div style="display: grid">
        <label for="nome">Nome:</label>
        <input
          type="text"
          id="nome"
          formControlName="nome"
          [class.ng-invalid]="showValidation && form.get('nome')?.invalid"
        />
      </div>
      <div style="display: grid; grid-template-columns: 70% 30%">
        <div style="display: grid">
          <label for="cpf">CPF:</label>
          <input
            type="text"
            id="cpf"
            formControlName="cpf"
            [class.ng-invalid]="showValidation && form.get('cpf')?.invalid"
          />
        </div>
        <div style="display: grid">
          <label for="dataNascimento">Data de Nascimento:</label>
          <input
            type="date"
            id="dataNascimento"
            formControlName="dataNascimento"
            [class.ng-invalid]="
              showValidation && form.get('dataNascimento')?.invalid
            "
          />
        </div>
      </div>
      <div formArrayName="contatos">
        <div *ngFor="let contato of contatosFormArray.controls; let i = index">
          <div
            [formGroupName]="i"
            style="display: grid; grid-template-columns: 70% 30%"
          >
            <div style="display: grid">
              <label for="email">Email:</label>
              <input
                type="email"
                id="email"
                formControlName="email"
                [class.ng-invalid]="
                  showValidation &&
                  contatosFormArray.at(i).get('email')?.invalid
                "
              />
            </div>
            <div style="display: grid">
              <label for="telefone">Telefone:</label>
              <input
                type="text"
                id="telefone"
                formControlName="telefone"
                [class.ng-invalid]="
                  showValidation &&
                  contatosFormArray.at(i).get('telefone')?.invalid
                "
              />
            </div>
          </div>
        </div>
      </div>
      <div class="btn-container">
        <button
          type="button"
          class="add-contato-btn"
          (click)="addContatoFormGroup()"
        >
          Adicionar Contato
        </button>
        <button type="submit" class="add-pessoa-btn">
          {{ isEditable ? "Salvar edições" : "Salvar" }}
        </button>
      </div>
    </form>
  </div>
</div>
